## FILE GENERATED BY mProv.  Modifications will be overwritten
# Please modify the mProv template.
{% if enableDHCP %}
# dhcp ranges which have been set and enabled in MPCC
{% for network in networks %}
# Network: {{network.slug}}
{% if ":" in network.dhcpstart %}
dhcp-range=set:{{network.slug}},{{network.dhcpstart}},{{network.dhcpend}},slaac
{% else %}
dhcp-range=set:{{network.slug}},{{network.dhcpstart}},{{network.dhcpend}}
{% endif %}

{% if ":" in network.gateway %}
{% else %}
dhcp-option=tag:{{network.slug}},option:router,{{network.gateway}}
{% endif %}

{% if ":" in network.nameserver1 %}
dhcp-option=tag:{{network.slug}},option6:dns-server,{{network.nameserver1}}
dhcp-option=tag:{{network.slug}},option6:24,{{network.domain}}
{% else %}
dhcp-option=tag:{{network.slug}},option:dns-server,{{network.nameserver1}}
dhcp-option=tag:{{network.slug}},option:domain-name,{{network.domain}}
{% endif %}

{% endfor %}

# the place to look for dhcp host entries
dhcp-hostsdir=/var/lib/mprov/dhcp/

{% if enableTFTP %}
# enable the tftp server
enable-tftp
tftp-root={{ tftproot }}
{% endif %}
{% endif %}